<div class="bar bar-dark bar-top">
  <div class="pull-left">
    <img class="cow-icon pull-left" alt="Happy Cow icon" src="images/happycow.png" />
    <h2 class="title pull-left">Resume Group Game</h2>
  </div>

  <ul class="list-inline pull-right">
    <li><a href="#/games" class="btn btn-default">Games List</a></li>
    <li><button ng-click="user.logout()" class="btn btn-warning">Logout</button></li>
  </ul>
</div>

<div id="games" ng-controller="GroupSetupCtrl">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <form>
          <h3>{{game.name}}</h3>
        </form>
      </div>
      <div class="col-md-6">
      </div>
    </div>
    <hr />
    <div class="row">
      <div class="col-md-6">
        <h4>Players</h4>
        <table class="table">
          <tr><th>Name</th><th>Score</th><th>Rations</th><th>Log In</th></tr>
          <tr ng-repeat="game_user in game.game_users" class="clickable">
            <td>
              <span class="label label-default" style="background-color: {{game_user.colour}};">{{game_user.user.name}}</span>
            </td>
            <td>{{game_user.score}}</td>
            <td>{{game_user.rations.length}}</td>
            <td>
              <button ng-if="!groupUsers.get(game_user.user_id)" ng-click="login(game_user.user)" class="btn btn-primary btn-xs">Log In</button>
              <button ng-if="groupUsers.get(game_user.user_id)" ng-click="logout(game_user.user)" class="btn btn-warning btn-xs">Log Out</button>
            </td>
          </tr>
        </table>
      </div>

      <div class="col-md-6">
        <div ng-if="game">
          <h4>Card Deck</h4>
          <hr />
          <div class="row">
            <div class="col-md-12">{{game.carddeck.name}} - rating: {{game.carddeck.rating}}</div>
          </div>

          <h4>Rounds</h4>
          <hr />
          <div class="row">
            <div class="col-md-12">
              <p>
                There are
                <span ng-if="game.rounds_min != game.rounds_max">
                  between <span class="badge">{{game.rounds_min}}</span> and
                </span>
                <span class="badge">{{game.rounds_max}}</span> rounds.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <div class="row bar">
      <div class="btn-group pull-right">
        <button ng-click="resume(game)" class="btn btn-success" {{ready ? '' : 'disabled'}}>
          Resume
        </button>
      </div>
    </div>
  </div>
</div>
