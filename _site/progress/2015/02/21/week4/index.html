
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Week 4 - 16th-21st February.</title>
    
    <meta name="author" content="Simeon Smith">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Happy Cow Game</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



          </ul>
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div><!-- /.navbar-collapse -->
      </nav>

      <div class="container">
        
<div class="page-header">
  <h1>Week 4 - 16th-21st February. </h1>
</div>

<div class="row post-full">
  <div class="col-xs-12">
    <div class="date">
      <span>21 February 2015</span>
    </div>
    <div class="content">
      <h3 id="catch-up">Catch Up</h3>
<p>I actually did not finish writing up the designs last week, so spent the first day of this week finalising them ready to show to my supervisor and client. They were satisfied with them, and I could then get cracking on the development.</p>

<h3 id="making-mockups-come-alive">Making Mockups Come Alive</h3>
<p>I had the four phases of the main game phase as four different pages already. My plan was to make these partly functional pages, pulling static data from the server. The second phase of development in a few weeks time would then be to persist data on the server, and actually make the game playable.</p>

<p>This worked quite well. I had taken a bit of time to familarise myself with AngularJS, the client side choise of framework, and read a few chapters about simple development in the O’Reilley guide. However, the best way to learn a language is to take time reading, but also write a substantial project using it, otherwise all the information too easily slips from one’s head. I began development, quickly ran into problems, but uncovered mis-understandings of how AngularJS is used, and bit by bit learned how best to use it.</p>

<h3 id="a-server-and-development-process">A Server and Development Process</h3>
<p>In order for others to test the game, it needs to be hosted in a place that can support a Ruby on Rails application. I found that RedHat offer free hosting for up to three web applications, and give support for Ruby on Rails as well. Their system can pull a project directly from GitHub and then deploy it. I spent a few hours setting this up, and creating a Rails framework.</p>

<h3 id="rails-assets">Rails Assets</h3>
<p>Integrating Rails and AngularJS took a while to figure out. Rails provides automatic minification of javascirpts, and loads them automatically in one go. However, this meant I could not control the order the different scripts loaded in. My solution was to pull out the Angular library scripts and include them manually before the compiled and loaded custom scripts.</p>

<p>Finding images also proved a bit of a challenge. In the end I moved all images and templates to be served by AngularJS into the public folder,away from the assets. This is because Rails changes their file path to ‘make things easier’.</p>

<h3 id="routing">Routing</h3>
<p>In order to change views, using the Angular <a href="https://docs.angularjs.org/api/ngRoute">ngRoute library</a> made sense. A few tutorials are available for this, but I ran into problems with the library, and tried another library <a href="https://github.com/angular-ui/ui-router">UI-Router</a>. However, this had the same issues, but less support, so when I figured out my miss-understanding, I changed back to the ngRoute library. Route names have to follow a hash after the domain name, to prevent the browser reloading the page. This makes sense in hind-sight, as it treats the page url’s like a resourse.</p>

<h3 id="resources">Resources</h3>
<p><a href="https://docs.angularjs.org/api/ngResource/service/$resource">ngResource</a> is a fairly simple Angular library that allows quick and easy interaction with a RESTful API. This is just what I wanted. However, in order to use it, I arranged hard coded JSON in the Rails controllers to be returned by the client side requests. This worked, but I did not encode the JSON string that Rails returned correctly, so for a few hours I was at a loss as to why the resources were not being returned. The answer was to remove the quotes form around the JSON in the Rails controller, then the resources appeared in the Angular controllers.</p>

<h3 id="bootstrap-directives">Bootstrap Directives</h3>
<p>Some Angular savy people have created the common JQuery directed features of <a href="http://angular-ui.github.io/bootstrap/">Bootstrap in Angular-speak</a>. So that they can be used without touching JQuery. Some of them work really well, but others are still under development, or the developers disagree about what they should impliment. Anyway, the modal and popover are two of these directives which don’t work as expected. I ended up continuing to use JQuery to manage these, as they are simply click oriented features and not worth the pain of learning the new Angular syntax. This may change later in the project if more complex features are needed.</p>

<h3 id="work-accomplished">Work Accomplished</h3>
<p>So with all the learning curves above, what did I actually manage to do? Well, I took the HTML templates and created Angular controllers to govern them. The main sections are the Menu, the Cow information, and the four Phases. I updated styles, and integrated live data returned from the server into these areas.</p>

<p>One area that proved easier than I thought was moving rations on the game board. This area is not finished, but a recursive template allows the possible positions a ration can move to, be easily shown and controlled.</p>

    </div>

  
    <ul class="tag_box inline">
      <li><i class="glyphicon glyphicon-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#progress-ref">
    		progress <span>7</span>
    	</a></li>
    
  


    </ul>
    

    
  
    <hr>
    <ul class="pagination">
    
      <li class="prev"><a href="/progress/2015/02/14/week3" title="Week 3 - 9th-13th February.">&laquo; Previous</a></li>
    
      <li><a href="/archive.html">Archive</a></li>
    
      <li class="next"><a href="/progress/2015/02/24/week5" title="Week 5 - 23rd-27th February.">Next &raquo;</a></li>
    
    </ul>
    <hr>
    
  </div>
</div>


      </div>

    </div>

    <div id="footer">
      <div class="container">
        <p>&copy; 2015 Simeon Smith
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </div>
    </div>

    


    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>

